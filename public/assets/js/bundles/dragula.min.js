!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function o(r,i,u){function c(n,e){if(!i[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);throw(t=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",t}t=i[n]={exports:{}},r[n][0].call(t.exports,function(e){return c(r[n][1][e]||e)},t,t.exports,o,r,i,u)}return i[n].exports}for(var a="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,n,t){var o={};function r(e){var n=o[e];return n?n.lastIndex=0:o[e]=n=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),n}n.exports={add:function(e,n){var t=e.className;t.length?r(n).test(t)||(e.className+=" "+n):e.className=n},rm:function(e,n){e.className=e.className.replace(r(n)," ").trim()}}},{}],2:[function(e,n,t){!function(r){var M=e("contra/emitter"),k=e("crossvent"),j=e("./classes"),R=document,q=R.documentElement;function U(e,n,t,o){r.navigator.pointerEnabled?k[n](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[t],o):r.navigator.msPointerEnabled?k[n](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[t],o):(k[n](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[t],o),k[n](e,t,o))}function K(e){return void 0!==e.touches?e.touches.length:void 0!==e.which&&0!==e.which?e.which:void 0!==e.buttons?e.buttons:void 0!==(e=e.button)?1&e?1:2&e?3:4&e?2:0:void 0}function z(e,n){return void 0!==r[n]?r[n]:(q.clientHeight?q:R.body)[e]}function H(e,n,t){var o=(e=e||{}).className||"";return e.className+=" gu-hide",t=R.elementFromPoint(n,t),e.className=o,t}function V(){return!1}function $(){return!0}function G(e){return e.width||e.right-e.left}function J(e){return e.height||e.bottom-e.top}function Q(e){return e.parentNode===R?null:e.parentNode}function W(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(n){return!!n&&"false"!==n.contentEditable&&("true"===n.contentEditable||e(Q(n)))}(e)}function Z(n){return n.nextElementSibling||(()=>{for(var e=n;(e=e.nextSibling)&&1!==e.nodeType;);return e})()}function ee(e,n){var n=n.targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,t={pageX:"clientX",pageY:"clientY"};return n[e=e in t&&!(e in n)&&t[e]in n?t[e]:e]}n.exports=function(e,n){var l,f,s,d,m,o,r,p,v,h,t;1===arguments.length&&!1===Array.isArray(e)&&(n=e,e=[]);var i,g=null,y=n||{},w=(void 0===y.moves&&(y.moves=$),void 0===y.accepts&&(y.accepts=$),void 0===y.invalid&&(y.invalid=function(){return!1}),void 0===y.containers&&(y.containers=e||[]),void 0===y.isContainer&&(y.isContainer=V),void 0===y.copy&&(y.copy=!1),void 0===y.copySortSource&&(y.copySortSource=!1),void 0===y.revertOnSpill&&(y.revertOnSpill=!1),void 0===y.removeOnSpill&&(y.removeOnSpill=!1),void 0===y.direction&&(y.direction="vertical"),void 0===y.ignoreInputTextSelection&&(y.ignoreInputTextSelection=!0),void 0===y.mirrorContainer&&(y.mirrorContainer=R.body),M({containers:y.containers,start:function(e){(e=E(e))&&x(e)},end:S,cancel:_,remove:N,destroy:function(){c(!0),O({})},canMove:function(e){return!!E(e)},dragging:!1}));return!0===y.removeOnSpill&&w.on("over",function(e){j.rm(e,"gu-hide")}).on("out",function(e){w.dragging&&j.add(e,"gu-hide")}),c(),w;function u(e){return-1!==w.containers.indexOf(e)||y.isContainer(e)}function c(e){U(q,e=e?"remove":"add","mousedown",D),U(q,e,"mouseup",O)}function a(e){U(q,e?"remove":"add","mousemove",F)}function b(e){k[e=e?"remove":"add"](q,"selectstart",T),k[e](q,"click",T)}function T(e){i&&e.preventDefault()}function D(e){var n,t;o=e.clientX,r=e.clientY,1!==K(e)||e.metaKey||e.ctrlKey||(t=E(n=e.target))&&(i=t,a(),"mousedown"===e.type)&&(W(n)?n.focus():e.preventDefault())}function F(e){if(i)if(0!==K(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-o)<=(y.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-r)<=(y.slideFactorY||0))){if(y.ignoreInputTextSelection){var n=ee("clientX",e)||0,t=ee("clientY",e)||0;if(W(R.elementFromPoint(n,t)))return}t=i,a(!0),b(),S(),x(t),t={left:(n=(n=s).getBoundingClientRect()).left+z("scrollLeft","pageXOffset"),top:n.top+z("scrollTop","pageYOffset")},d=ee("pageX",e)-t.left,m=ee("pageY",e)-t.top,j.add(h||s,"gu-transit"),l||(t=s.getBoundingClientRect(),(l=s.cloneNode(!0)).style.width=G(t)+"px",l.style.height=J(t)+"px",j.rm(l,"gu-transit"),j.add(l,"gu-mirror"),y.mirrorContainer.appendChild(l),U(q,"add","mousemove",A),j.add(y.mirrorContainer,"gu-unselectable"),w.emit("cloned",l,s,"mirror")),A(e)}}else O({})}function E(e){if(!(w.dragging&&l||u(e))){for(var n=e;Q(e)&&!1===u(Q(e));){if(y.invalid(e,n))return;if(!(e=Q(e)))return}var t=Q(e);if(t&&!y.invalid(e,n)&&y.moves(e,t,n,Z(e)))return{item:e,source:t}}}function x(e){var n=e.item;("boolean"==typeof y.copy?y.copy:y.copy(n,e.source))&&(h=e.item.cloneNode(!0),w.emit("cloned",h,e.item,"copy")),f=e.source,p=v=Z(s=e.item),w.dragging=!0,w.emit("drag",s,f)}function S(){var e;w.dragging&&I(e=h||s,Q(e))}function C(){a(!(i=!1)),b(!0)}function O(e){var n,t;C(),w.dragging&&(n=h||s,t=ee("clientX",e)||0,e=ee("clientY",e)||0,(e=Y(H(l,t,e),t,e))&&(h&&y.copySortSource||!h||e!==f)?I(n,e):(y.removeOnSpill?N:_)())}function I(e,n){var t=Q(e);h&&y.copySortSource&&n===f&&t.removeChild(s),L(n)?w.emit("cancel",e,f,f):w.emit("drop",e,n,f,v),X()}function N(){var e,n;w.dragging&&((n=Q(e=h||s))&&n.removeChild(e),w.emit(h?"cancel":"remove",e,n,f),X())}function _(e){var n,t,o;w.dragging&&(n=0<arguments.length?e:y.revertOnSpill,!1===(e=L(o=Q(t=h||s)))&&n&&(h?o&&o.removeChild(h):f.insertBefore(t,p)),e||n?w.emit("cancel",t,f,f):w.emit("drop",t,o,f,v),X())}function X(){var e=h||s;C(),l&&(j.rm(y.mirrorContainer,"gu-unselectable"),U(q,"remove","mousemove",A),Q(l).removeChild(l),l=null),e&&j.rm(e,"gu-transit"),t&&clearTimeout(t),w.dragging=!1,g&&w.emit("out",e,g,f),w.emit("dragend",e),f=s=h=p=v=t=g=null}function L(e,n){return n=void 0!==n?n:l?v:Z(h||s),e===f&&n===p}function Y(n,t,o){for(var r=n;r&&!(()=>{var e;if(!1!==u(r))return e=B(r,n),e=P(r,e,t,o),L(r,e)||y.accepts(s,r,f,e)})();)r=Q(r);return r}function A(e){if(l){e.preventDefault();var n,t=ee("clientX",e)||0,o=ee("clientY",e)||0,r=t-d,i=o-m,u=(l.style.left=r+"px",l.style.top=i+"px",h||s),c=null!==(r=Y(e=H(l,t,o),t,o))&&r!==g;if(!c&&null!==r||(g&&a("out"),g=r,c&&a("over")),i=Q(u),r!==f||!h||y.copySortSource){if(null!==(e=B(r,e)))n=P(r,e,t,o);else{if(!0!==y.revertOnSpill||h)return void(h&&i&&i.removeChild(u));n=p,r=f}(null===n&&c||n!==u&&n!==Z(u))&&(v=n,r.insertBefore(u,n),w.emit("shadow",u,r,f))}else i&&i.removeChild(u)}function a(e){w.emit(e,u,g,f)}}function B(e,n){for(var t=n;t!==e&&Q(t)!==e;)t=Q(t);return t===q?null:t}function P(r,n,i,u){var c="horizontal"===y.direction;return(n!==r?function(){var e=n.getBoundingClientRect();return t(c?i>e.left+G(e)/2:u>e.top+J(e)/2)}:function(){for(var e,n,t=r.children.length,o=0;o<t;o++){if(n=(e=r.children[o]).getBoundingClientRect(),c&&n.left+n.width/2>i)return e;if(!c&&n.top+n.height/2>u)return e}return null})();function t(e){return e?Z(n):n}}}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,n,t){n.exports=function(e,n){return Array.prototype.slice.call(e,n)}},{}],4:[function(e,n,t){var o=e("ticky");n.exports=function(e,n,t){e&&o(function(){e.apply(t||null,n||[])})}},{ticky:10}],5:[function(e,n,t){var c=e("atoa"),a=e("./debounce");n.exports=function(r,e){var i=e||{},u={};return(r=void 0===r?{}:r).on=function(e,n){return u[e]?u[e].push(n):u[e]=[n],r},r.once=function(e,n){return n._once=!0,r.on(e,n),r},r.off=function(e,n){var t=arguments.length;if(1===t)delete u[e];else if(0===t)u={};else{if(!(e=u[e]))return r;e.splice(e.indexOf(n),1)}return r},r.emit=function(){var e=c(arguments);return r.emitterSnapshot(e.shift()).apply(this,e)},r.emitterSnapshot=function(o){var e=(u[o]||[]).slice(0);return function(){var n=c(arguments),t=this||r;if("error"!==o||!1===i.throws||e.length)return e.forEach(function(e){i.async?a(e,n,t):e.apply(t,n),e._once&&r.off(o,e)}),r;throw 1===n.length?n[0]:n}},r}},{"./debounce":4,atoa:3}],6:[function(t,o,e){!function(u){var r=t("custom-event"),i=t("./eventmap"),c=u.document,e=function(e,n,t,o){return e.addEventListener(n,t,o)},n=function(e,n,t,o){return e.removeEventListener(n,t,o)},a=[];function l(e,n,t){if(n=((e,n,t)=>{for(var o,r=0;r<a.length;r++)if((o=a[r]).element===e&&o.type===n&&o.fn===t)return r})(e,n,t))return t=a[n].wrapper,a.splice(n,1),t}u.addEventListener||(e=function(e,n,t){return e.attachEvent("on"+n,(i=l(e=e,n=n,t=t)||(o=e,r=t,function(e){var n=e||u.event;n.target=n.target||n.srcElement,n.preventDefault=n.preventDefault||function(){n.returnValue=!1},n.stopPropagation=n.stopPropagation||function(){n.cancelBubble=!0},n.which=n.which||n.keyCode,r.call(o,n)}),a.push({wrapper:i,element:e,type:n,fn:t}),i));var o,r,i},n=function(e,n,t){if(t=l(e,n,t))return e.detachEvent("on"+n,t)}),o.exports={add:e,remove:n,fabricate:function(e,n,t){var o,t=-1===i.indexOf(n)?new r(n,{detail:t}):(c.createEvent?(o=c.createEvent("Event")).initEvent(n,!0,!0):c.createEventObject&&(o=c.createEventObject()),o);e.dispatchEvent?e.dispatchEvent(t):e.fireEvent("on"+n,t)}}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,r,n){!function(e){var n=[],t="",o=/^on/;for(t in e)o.test(t)&&n.push(t.slice(2));r.exports=n}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){!function(e){var n=e.CustomEvent;t.exports=(()=>{try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}})()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,n){var t=document.createEvent("CustomEvent");return n?t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail):t.initCustomEvent(e,!1,!1,void 0),t}:function(e,n){var t=document.createEventObject();return t.type=e,n?(t.bubbles=Boolean(n.bubbles),t.cancelable=Boolean(n.cancelable),t.detail=n.detail):(t.bubbles=!1,t.cancelable=!1,t.detail=void 0),t}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,n,t){var o,r,n=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(n){if(o===setTimeout)return setTimeout(n,0);if((o===i||!o)&&setTimeout)return(o=setTimeout)(n,0);try{return o(n,0)}catch(e){try{return o.call(null,n,0)}catch(e){return o.call(this,n,0)}}}try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}var a,l=[],f=!1,s=-1;function d(){f&&a&&(f=!1,a.length?l=a.concat(l):s=-1,l.length)&&m()}function m(){if(!f){var e=c(d);f=!0;for(var n=l.length;n;){for(a=l,l=[];++s<n;)a&&a[s].run();s=-1,n=l.length}a=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===u||!r)&&clearTimeout)return(r=clearTimeout)(n);try{r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(e)}}function p(e,n){this.fun=e,this.array=n}function v(){}n.nextTick=function(e){var n=new Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new p(e,n)),1!==l.length||f||c(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],10:[function(e,t,n){!function(n){t.exports="function"==typeof n?function(e){n(e)}:function(e){setTimeout(e,0)}}.call(this,e("timers").setImmediate)},{timers:11}],11:[function(a,e,l){!function(e,n){var o=a("process/browser.js").nextTick,t=Function.prototype.apply,r=Array.prototype.slice,i={},u=0;function c(e,n){this._id=e,this._clearFn=n}l.setTimeout=function(){return new c(t.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new c(t.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},l.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},l._unrefActive=l.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;0<=n&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},n))},l.setImmediate="function"==typeof e?e:function(e){var n=u++,t=!(arguments.length<2)&&r.call(arguments,1);return i[n]=!0,o(function(){i[n]&&(t?e.apply(null,t):e.call(null),l.clearImmediate(n))}),n},l.clearImmediate="function"==typeof n?n:function(e){delete i[e]}}.call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)});